<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">

<head>
  <title>직원_직원수정</title>
  <th:block layout:fragment="css">
    <style>
      /* [수정] margin: 0 auto; -> margin: 0; 으로 변경하여 왼쪽 정렬 */
      .edit-table { table-layout: fixed; border-collapse: collapse; width:600px; margin: 0; }
      .edit-table th, .edit-table td { border:1px solid #e5e7eb; padding:10px; vertical-align:top; }
      .edit-table th { width:160px; background:#fafafa; text-align:left; }
      .btn-bar { display:flex; align-items:center; gap:10px; margin-top:16px; justify-content:flex-start; width: 600px; margin: 20px 0 0 0; }
      .edit-table input[type="text"], .edit-table input[type="date"], .edit-table input[type="email"] {
        width:100%; box-sizing:border-box; padding:8px; border:1px solid #d1d5db; border-radius:6px;
      }
    </style>
  </th:block>
</head>

<div layout:fragment="content">
    <div class="basic-N23" data-bid="wWM47SwZLN">
      <div class="contents-inner">
        <div class="contents-container container-md">
          <div class="textset" style="margin-bottom: 30px;">
            <img class="imageset-img" src="/resources/images/img_basic_N23_1.png" alt="이미지">
            <h2 class="textset-tit" th:text="${#authentication.name == employeeCommand.empId} ? '내 정보 수정' : '직원 정보 수정'">직원 정보 수정</h2>
            <p class="textset-desc">직원 정보를 수정하는 페이지입니다.</p>
          </div>

          <form id="employeeEditForm" 
                th:action="${#authentication.name == employeeCommand.empId} ? @{/employee/my-page/update} : @{/admin/employees/edit}" 
                th:object="${employeeCommand}" method="post">
            <input type="hidden" th:field="*{empNum}">
            <input type="hidden" th:field="*{empId}">

            <table class="edit-table">
              <tbody>
                <tr>
                  <th>직원번호</th>
                  <td th:text="*{empNum}">emp_xxxxxx</td>
                </tr>
                <tr>
                  <th>아이디</th>
                  <td th:text="*{empId}">userid</td>
                </tr>
                <tr>
                  <th>이름</th>
                  <td><input type="text" th:field="*{empName}" required></td>
                </tr>
                <tr>
                  <th>주민번호</th>
                  <td><input type="text" th:field="*{empJumin}" required></td>
                </tr>
                <tr>
                  <th>연락처</th>
                  <td><input type="text" th:field="*{empPhone}" required></td>
                </tr>
                <tr>
                  <th>이메일</th>
                  <td><input type="email" th:field="*{empEmail}" required></td>
                </tr>
                <tr>
                  <th>주소</th>
                  <td>
                    <input type="text" th:field="*{empAddr}" placeholder="기본주소" required>
                    <div style="height:8px;"></div>
                    <input type="text" th:field="*{empAddrDetail}" placeholder="상세주소">
                    <div style="height:8px;"></div>
                    <input type="text" th:field="*{empPost}" placeholder="우편번호">
                  </td>
                </tr>
                <tr>
                  <th>입사일</th>
                  <td>
                    <input type="date" name="empHireDate" th:value="${#dates.format(employeeCommand.empHireDate, 'yyyy-MM-dd')}">
                  </td>
                </tr>
              </tbody>
            </table>
          </form>

          <div class="btn-bar">
            <a class="btnset btnset-line btnset-round" 
               th:href="${#authentication.name == employeeCommand.empId} ? @{/employee/my-page} : @{/admin/employees}">
               <span th:text="${#authentication.name == employeeCommand.empId} ? '취소' : '목록으로'"></span>
            </a>
            <button form="employeeEditForm" type="submit" class="btnset btnset-line btnset-round">수정완료</button>
          </div>

        </div>
      </div>
    </div>
</div>
</html>