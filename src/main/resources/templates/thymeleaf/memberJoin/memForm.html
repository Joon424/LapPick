<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head>
  <title>회원_가입</title>
  <th:block layout:fragment="css">
    <style>
      /* [수정] 폼 전체 왼쪽 정렬을 위해 margin 제거 */
      .register-table {
        width: 100%;
        max-width: 800px;
        border-collapse: collapse;
        border-top: 2px solid #333;
      }
      .register-table th, .register-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #e5e7eb;
        vertical-align: top;
      }
      .register-table th {
        width: 180px;
        text-align: left;
        background-color: #fafafa;
        font-weight: 600;
        vertical-align: middle;
      }
      .register-table input[type="text"],
      .register-table input[type="password"],
      .register-table input[type="email"],
      .register-table input[type="date"] {
        width: 100%;
        box-sizing: border-box;
        padding: 8px;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-size: 14px;
      }
      /* [수정] 가로 배치를 위한 flex 스타일 */
      .flex-row { 
        display: flex; 
        gap: 8px; 
        align-items: center; 
      }
      /* [수정] 버튼 왼쪽 정렬 */
      .btnbar {
        display: flex;
        justify-content: flex-start; /* center -> flex-start */
        gap: 10px;
        margin-top: 30px;
        width: 100%;
        max-width: 800px;
      }
    </style>
  </th:block>
</head>
<body>
<div layout:fragment="content">
  <main class="th-layout-main">
    <div class="basic-N23" data-bid="wWM47SwZLN">
      <div class="contents-inner">
        <div class="contents-container container-md">
          
          <div class="textset">
            <img class="imageset-img" src="/resources/images/img_basic_N23_1.png" alt="이미지" th-hoverbox="true">
            <h2 class="textset-tit">회원가입</h2>
            <p class="textset-desc">LapPick 회원이 되어 다양한 혜택을 누려보세요.</p>
          </div>

          <form action="/register/userWrite" method="post">
            <table class="register-table">
              <tbody>
                <tr>
                  <th><label for="memberId">아이디</label></th>
                  <td><input type="text" id="memberId" name="memberId" placeholder="아이디를 입력하세요" th:value="${userCommand.memberId}" required></td>
                </tr>
                <tr>
                  <th><label for="memberPw">비밀번호</label></th>
                  <td><input type="password" id="memberPw" name="memberPw" placeholder="비밀번호를 입력하세요" required></td>
                </tr>
                <tr>
                  <th><label for="memberPwCon">비밀번호 확인</label></th>
                  <td><input type="password" id="memberPwCon" name="memberPwCon" placeholder="비밀번호를 다시 입력하세요" required></td>
                </tr>
                <tr>
                  <th><label for="memberName">이름</label></th>
                  <td><input type="text" id="memberName" name="memberName" placeholder="이름을 입력해주세요" th:value="${userCommand.memberName}" required></td>
                </tr>
                <tr>
                  <th><label for="memberEmail">이메일</label></th>
                  <td><input type="email" id="memberEmail" name="memberEmail" placeholder="예: user@example.com" th:value="${userCommand.memberEmail}" required></td>
                </tr>
                <tr>
                  <th><label for="memberPhone1">휴대폰 번호</label></th>
                  <td><input type="text" id="memberPhone1" name="memberPhone1" placeholder="'-' 없이 숫자만 입력" th:value="${userCommand.memberPhone1}" required></td>
                </tr>
                <tr>
                  <th><label for="memberPhone2">추가 연락처 (선택)</label></th>
                  <td><input type="text" id="memberPhone2" name="memberPhone2" th:value="${userCommand.memberPhone2}"></td>
                </tr>
                <tr>
                  <th><label for="memberBirth">생년월일</label></th>
                  <td><input type="date" id="memberBirth" name="memberBirth" th:value="${userCommand.memberBirth}" required></td>
                </tr>
                <tr>
                  <th>성별</th>
                  <td>
                    <div class="flex-row">
                      <label class="flex-row"><input type="radio" name="gender" value="M" th:checked="${userCommand.gender == 'M'}">&nbsp;남</label>
                      <label class="flex-row" style="margin-left: 15px;"><input type="radio" name="gender" value="F" th:checked="${userCommand.gender == 'F'}">&nbsp;여</label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th>주소</th>
                  <td>
                    <div class="flex-row">
                      <input type="text" name="memberPost" id="sample4_postcode" placeholder="우편번호" style="width: 120px; flex-grow: 0;" readonly>
                      <button type="button" onclick="execDaumPostcode();" class="btnset btnset-line" style="height: 36px; padding: 0 12px; font-size: 13px; flex-shrink: 0;">우편번호 찾기</button>
                    </div>
                    <input type="text" name="memberAddr" id="sample4_roadAddress" placeholder="도로명주소" readonly style="margin-top: 8px;">
                    <input type="text" name="memberAddrDetail" placeholder="상세주소 입력" style="margin-top: 8px;">
                  </td>
                </tr>
                <tr>
                  <td colspan="2" style="text-align: center; padding: 20px;">
                    <div class="flex-row" style="justify-content: center;">
                      <input id="agree-checkbox" type="checkbox" required style="width: auto; height: auto;">
                      <label for="agree-checkbox" style="margin-left: 5px;">개인정보처리방침에 동의합니다.</label>
                      <a href="javascript:openAgreement();" style="margin-left: 10px; text-decoration: underline;">[내용보기]</a>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="btnbar">
              <button class="btnset btnset-lg" type="submit">회원가입 완료</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>
</div>
<th:block layout:fragment="script">
  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <script>
    function execDaumPostcode() {
      new daum.Postcode({
        oncomplete: function(data) {
          document.getElementById('sample4_roadAddress').value = data.roadAddress;
          document.getElementById('sample4_postcode').value = data.zonecode;
        }
      }).open();
    }
    function openAgreement() {
      window.open('/register/userAgree', '_blank', 'width=800,height=600,scrollbars=yes');
    }
  </script>
</th:block>
</body>
</html>