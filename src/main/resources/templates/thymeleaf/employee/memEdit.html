<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="imagetoolbar" content="no">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>직원_회원수정 | Miso</title>

  <!-- memberList.html / memInfo.html 과 동일 리소스 -->
  <script src="/static/js/cartButton.js"></script>
  <link rel="stylesheet"  href="/resources/css/setting.css">
  <link rel="stylesheet"  href="/resources/css/plugin.css">
  <link rel="stylesheet"  href="/resources/css/template.css">
  <link rel="stylesheet"  href="/resources/css/common.css">
  <link rel="stylesheet"  href="/resources/css/style.css">
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.1.min.js"></script>

  <style>
    /* memInfo와 형태 유지 */
    table { table-layout: fixed; border-collapse: collapse; width:600px; }
    th, td { border:1px solid #e5e7eb; padding:10px; vertical-align:top; }
    th { width:160px; background:#fafafa; text-align:left; }
    .row { display:flex; gap:8px; align-items:center; }
    .btnbar { display:flex; align-items:center; gap:10px; margin-top:16px; justify-content:flex-start; flex-wrap:wrap; }
    input[type="text"], input[type="date"], input[type="email"], select {
      width:100%; box-sizing:border-box; padding:8px; border:1px solid #d1d5db; border-radius:6px;
    }
    .w-120 { width:120px; }
    .hint { color:#777; font-size:12px; margin-top:4px; }
    .alert { background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; padding:10px 12px; border-radius:6px; margin-bottom:12px; }
  </style>
</head>
<body>
  <!-- 헤더 (memInfo 동일) -->
  <div class="basic-N3" data-bid="znM47Svc81">
    <div class="header-inner">
      <div class="header-container container-lg">
        <div class="header-left">
          <h1 class="header-title">
            <a href="/"><img src="/resources/images/img_logo_black.png" alt="로고"></a>
          </h1>
          <div class="header-mobile-group">
            <div class="header-mobile-top">
              <p>로그인이 필요합니다.</p>
              <a href="javascript:void(0)">로그인</a>
            </div>
            <ul class="header-gnblist">
              <li class="header-gnbitem"><a class="header-gnblink" href="/banner/brand"><span>BRAND</span></a></li>
              <li class="header-gnbitem"><a class="header-gnblink" href="/goods/goodsFullList"><span>PRODUCTS</span></a></li>
              <li class="header-gnbitem"><a class="header-gnblink" href="/banner/notice"><span>NOTICE</span></a></li>
              <li class="header-gnbitem"><a class="header-gnblink" href="/banner/faq"><span>FAQ</span></a></li>
              <li class="header-gnbitem">
                <a class="header-gnblink" th:href="${isLoggedIn} ? '/login/logout' : '/login/item.login'">
                  <span th:text="${isLoggedIn} ? 'LOGOUT' : 'LOGIN'" th:style="${isLoggedIn} ? 'color: red;' : ''">LOGIN</span>
                </a>
              </li>
            </ul>
            <button class="header-btn btn-close"><img src="/resources/icons/ico_close_white.svg" alt="닫기 아이콘"></button>
          </div>
        </div>
        <div class="header-right">
          <div class="header-utils">
            <button class="header-btn btn-seach"><img src="/resources/icons/ico_seach_black.svg" alt="검색 아이콘"></button>
            <a href="/login/userIcon" class="header-btn btn-user" id="user-icon"><img src="/resources/icons/ico_user_black.svg" alt="유저 아이콘"></a>
            <button class="header-btn btn-cart badgeset badgeset-circle badgeset-position badgeset-bottom-right">
              <img src="/resources/icons/ico_cart_black.svg" alt="쇼핑백 아이콘"><span class="badgeset-text">1</span>
            </button>
            <button class="header-btn btn-allmenu"><img src="/resources/icons/ico_menu2_black.svg" alt="PC메뉴 아이콘"></button>
            <button class="header-btn btn-momenu"><img src="/resources/icons/ico_menu2_black.svg" alt="모바일메뉴 아이콘"></button>
            <button class="header-btn btn-close"><img src="/resources/icons/ico_close_black.svg" alt="닫기 아이콘"></button>
          </div>
        </div>
      </div>
    </div>
    <div class="header-dim"></div>
  </div>

  <main class="th-layout-main">
    <div class="basic-N23" data-bid="wWM47SwZLN">
      <div class="contents-inner">
        <div class="contents-container container-md">

          <div class="textset">
            <img class="imageset-img" src="/resources/images/img_basic_N23_1.png" alt="이미지" th-hoverbox="true">
            <h2 class="textset-tit">회원 수정</h2>
            <p class="textset-desc">회원 정보를 수정하는 페이지입니다.</p>
            <!-- 성공/실패 메시지 -->
            <div class="alert" th:if="${message}" th:text="${message}"></div>
          </div>

          <form id="memberEditForm"
                th:action="@{/employee/member/memberUpdate}"
                method="post">

            <!-- 돌아가기 컨텍스트 유지 -->
            <input type="hidden" name="page" th:value="${param.page != null ? param.page[0] : 1}">
            <input type="hidden" name="memberWord" th:value="${param.memberWord != null ? param.memberWord[0] : null}">

            <!-- 식별자/불변값 -->
            <input type="hidden" name="memberNum" th:value="${memberCommand.memberNum}">
            <input type="hidden" name="memberId"  th:value="${memberCommand.memberId}">

            <table>
              <tbody>
              <tr>
                <th>회원번호</th>
                <td th:text="${memberCommand.memberNum}">mem_xxxxxx</td>
              </tr>

              <tr>
                <th>아이디</th>
                <td th:text="${memberCommand.memberId}">userid</td>
              </tr>

              <tr>
                <th>이름</th>
                <td><input type="text" name="memberName" th:value="${memberCommand.memberName}" required></td>
              </tr>

              <tr>
                <th>성별</th>
                <td>
                  <div class="row">
                    <label><input type="radio" name="gender" value="M"
                                  th:checked="${#strings.equalsIgnoreCase(memberCommand.gender,'M')}"> 남</label>
                    <label><input type="radio" name="gender" value="F"
                                  th:checked="${#strings.equalsIgnoreCase(memberCommand.gender,'F')}"> 여</label>
                  </div>
                </td>
              </tr>

              <tr>
                <th>전화번호1</th>
                <td><input type="text" name="memberPhone1" th:value="${memberCommand.memberPhone1}" required></td>
              </tr>

              <tr>
                <th>전화번호2</th>
                <td>
                  <input type="text" name="memberPhone2" th:value="${memberCommand.memberPhone2}">
                  <div class="hint">미입력 가능</div>
                </td>
              </tr>

              <!-- 이메일 -->
              <tr>
                <th>이메일</th>
                <td>
                  <div class="row" style="align-items:center;">
                    <input type="email" name="memberEmail" th:value="${memberCommand.memberEmail}" required style="flex:1;">
                    <select name="memberEmailConf">
                      <option value="">인증여부 선택</option>
                      <option value="Y" th:selected="${#strings.equalsIgnoreCase(memberCommand.memberEmailConf,'Y')}">인증</option>
                      <option value="N" th:selected="${#strings.equalsIgnoreCase(memberCommand.memberEmailConf,'N')}">미인증</option>
                    </select>
                  </div>
                </td>
              </tr>

              <!-- 주소 -->
              <tr>
                <th>주소</th>
                <td>
                  <input type="text" name="memberAddr"        th:value="${memberCommand.memberAddr}"        placeholder="기본주소" required>
                  <div style="height:8px;"></div>
                  <input type="text" name="memberAddrDetail" th:value="${memberCommand.memberAddrDetail}" placeholder="상세주소">
                  <div style="height:8px;"></div>
                  <div class="row">
                    <span>우편번호:&nbsp;</span>
                    <input class="w-120" type="text" name="memberPost" th:value="${memberCommand.memberPost}">
                  </div>
                </td>
              </tr>

              <tr>
                <th>생년월일</th>
                <td>
                  <input type="date" name="memberBirth"
                         th:value="${#dates.format(memberCommand.memberBirth, 'yyyy-MM-dd')}" required>
                </td>
              </tr>

              <tr>
                <th>가입일</th>
                <td th:text="${#dates.format(memberCommand.memberRegist, 'yyyy-MM-dd HH:mm')}">2024-01-01 10:00</td>
              </tr>

              <!-- 포인트 행 제거 -->
              </tbody>
            </table>
          </form>

          <!-- 하단 버튼 한 번 더(스크롤 길 경우 대비, 필요 없으면 삭제 가능) -->
          <div class="btnbar">
            <a class="btnset btnset-line btnset-round"
               th:href="@{/employee/member/memberList(
                  page=${param.page != null ? param.page[0] : 1},
                  memberWord=${param.memberWord != null ? param.memberWord[0] : null}
               )}">목록으로</a>
            <button form="memberEditForm" type="submit" class="btnset btnset-line btnset-round">수정완료</button>
          </div>

        </div>
      </div>
    </div>
  </main>

  <!-- 푸터 (memInfo 동일) -->
  <div class="basic-N4" data-bid="asM47Svmx7">
    <div class="footer-inner">
      <div class="footer-container container-lg">
        <div class="footer-top">
          <h1 class="footer-logo"><a href="javascript:void(0)"><img src="/resources/images/img_logo_lightgray.png" alt="로고"></a></h1>
          <ul class="footer-menulist">
            <li class="footer-menuitem"><a href="javascript:void(0)"><span>이용약관</span></a></li>
            <li class="footer-menuitem"><a href="javascript:void(0)"><span>개인정보처리방침</span></a></li>
            <li class="footer-menuitem"><a href="javascript:void(0)"><span>국비교육</span></a></li>
            <li class="footer-menuitem"><a href="javascript:void(0)"><span>미니프로젝트</span></a></li>
          </ul>
          <ul class="footer-snslist">
            <li class="footer-snsitem"><a class="footer-snslink" href="javascript:void(0)"><img src="/resources/icons/ico_instagram_lightgrey.svg" alt="인스타그램"></a></li>
            <li class="footer-snsitem"><a class="footer-snslink" href="javascript:void(0)"><img src="/resources/icons/ico_youtube_lightgrey.svg" alt="유튜브"></a></li>
            <li class="footer-snsitem"><a class="footer-snslink" href="javascript:void(0)"><img src="/resources/icons/ico_facebook_lightgrey.svg" alt="페이스북"></a></li>
            <li class="footer-snsitem"><a class="footer-snslink" href="javascript:void(0)"><img src="/resources/icons/ico_kakao_lightgrey.svg" alt="카카오톡"></a></li>
          </ul>
        </div>
        <div class="footer-bottom">
          <div class="footer-txt">
            <p> 성결대학교 성결관 301호 </p>
            <p><span>T. 010-8246-6830</span><span>E. wnflqm010203@sungkyul.ac.kr</span></p>
          </div>
          <div class="footer-txt"><p>2024 BY JeongJunGyo. ALL RIGHTS RESEVED</p></div>
        </div>
      </div>
    </div>
  </div>

  <script src="/resources/js/setting.js"></script>
  <script src="/resources/js/plugin.js"></script>
  <script src="/resources/js/template.js"></script>
  <script src="/resources/js/common.js"></script>
  <script src="/resources/js/script.js"></script>
</body>
</html>
